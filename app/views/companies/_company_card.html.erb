<div class="card my-4">
  <%= link_to company_url(company) do %>
    <%= image_tag(get_1200px(company&.top_image), alt: 'Company logo', class: 'card-img-top') %>
  <% end %>

  <div class="p-4">

    <div class="position-absolute w-100" title="<%= company.location %>" style="left:0px; top:20px">
      <small class="badge rounded-pill bg-white text-dark shadow-sm ms-3" title="<%= company.location %>">
        <%= company.location&.truncate(30) %>
      </small>
      <span class="float-end text-white me-3 fs-5">

          <%= link_to toggle_favorite_company_url(company),
            method: :patch,
            remote: true do %>
            <i class="bi bi-star fs-3 <%= favorite_company?(company.id) ? 'text-warning' : '' %>"
               title="<%= favorite_company?(company.id) ? 'Unfavorite' : 'Favorite' %>"
               data-controller="toggle",
               data-action="click->toggle#toggle"
               data-toggle-css-class="text-warning"
               title="Favorite company"></i>

          <% end %>
      </span>
    </div>

    <% company.regions.each do |region| %>
      <%# link_to region, region_url(region), class: 'text-decoration-none mb-3 d-inline border p-1' %>
    <% end %>

    <h3><%= link_to company.name, company_url(company), class: 'text-decoration-none' %></h3>

    <p title="<%= company&.intro %>"><%= company&.intro&.truncate(54) %></p>

    <div class="row">
      <div class="col-12 col-md-6">
        <h6 style="font-size:12px">TYPE</h6>
        <span
          class="badge rounded-pill bg-secondary"
          style="white-space: unset"
          ><%= company.manufacturer_taxonomies.to_sentence %></span>
      </div>
      <div class="col-12 col-md-6">
        <h6 style="font-size:12px">CATEGORY</h6>
        <span
          title="<%= company.industry_taxonomies.to_sentence %>"
          class="badge rounded-pill bg-secondary"
          style="white-space: unset"><%= truncate company.industry_taxonomies.to_sentence %></span>
      </div>
    </div>

  </div>
</div>
